<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assisted Findom - outcastjaxton</title>
    <style>
        body { font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; text-align: center; background: #0a0a0a; color: white; padding: 20px; margin: 0; }
        h2 { letter-spacing: 2px; text-transform: uppercase; color: #fff; margin-top: 10px; }
        
        .stats { margin: 15px 0; padding: 20px; background: #151515; border: 1px solid #222; border-radius: 15px; display: inline-block; min-width: 260px; }
        .total-label { color: #888; text-transform: uppercase; font-size: 0.75rem; letter-spacing: 1px; }
        .total-amount { font-size: 3.2rem; color: #2ed573; font-weight: bold; margin: 5px 0; transition: transform 0.2s ease; }
        .pulse { transform: scale(1.1); }

        #wheel-container { position: relative; width: 320px; height: 320px; margin: 20px auto; }
        #canvas { width: 100%; height: 100%; border-radius: 50%; border: 6px solid #222; transition: transform 4s cubic-bezier(0.15, 0, 0.15, 1); box-shadow: 0 0 50px rgba(0,0,0,0.8); }
        #pointer { position: absolute; top: -15px; left: 50%; transform: translateX(-50%); width: 0; height: 0; border-left: 15px solid transparent; border-right: 15px solid transparent; border-top: 35px solid #ff4757; z-index: 10; }
        
        #spin-btn { background: #ffa502; color: #000; border: none; padding: 18px; font-size: 1.1rem; border-radius: 40px; cursor: pointer; font-weight: bold; width: 100%; max-width: 320px; margin-top: 10px; box-shadow: 0 4px 15px rgba(255,165,2,0.3); }
        #spin-btn:disabled { background: #333; color: #666; cursor: not-allowed; box-shadow: none; }
        
        .pay-section { display: none; margin-top: 25px; flex-direction: column; gap: 12px; align-items: center; animation: fadeIn 0.5s ease-out; }
        .pay-btn { display: flex; align-items: center; justify-content: center; width: 100%; max-width: 280px; padding: 18px; border-radius: 40px; text-decoration: none; font-weight: bold; font-size: 1rem; color: white; transition: 0.3s; }
        .venmo { background: #008CFF; box-shadow: 0 4px 12px rgba(0,140,255,0.3); }
        .crypto { background: #2775ca; border: 1px solid #4a90e2; box-shadow: 0 4px 12px rgba(39,117,202,0.3); }
        
        .copy-addr { background: transparent; font-size: 0.75rem; padding: 10px; border: 1px dashed #444; color: #777; cursor: pointer; border-radius: 10px; margin-top: 15px; width: 280px; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <h2>Assisted Findom</h2>
    
    <div class="stats">
        <div class="total-label">Total Contribution</div>
        <div class="total-amount" id="display-amount">$0</div>
    </div>

    <div id="wheel-container">
        <div id="pointer"></div>
        <canvas id="canvas" width="400" height="400"></canvas>
    </div>

    <button id="spin-btn" onclick="spinWheel()">SPIN TO ADD TO DEBT</button>

    <div id="pay-section" class="pay-section">
        <a id="venmo-link" class="pay-btn venmo" href="#">SETTLE VIA VENMO</a>
        
        <a id="crypto-link" class="pay-btn crypto" href="#">SETTLE VIA CRYPTO WALLET</a>
        
        <button class="copy-addr" onclick="copyAddress()">Copy USDC Base Address</button>
    </div>

<script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    const display = document.getElementById('display-amount');
    const paySection = document.getElementById('pay-section');
    const spinBtn = document.getElementById('spin-btn');

    // --- CONFIGURATION ---
    const myVenmo = "outcastjaxton";
    const myWallet = "0x7a890107E81851d17D8899E6784386d57EdcF141"; 
    // ---------------------

    const basePrizes = [25, 50, 75, 100, 25, 50, 75, 100];
    const prizes = basePrizes.sort(() => Math.random() - 0.5);
    const colors = ['#1e90ff', '#2ed573', '#ff4757', '#ffa502', '#3742fa', '#70a1ff', '#7bed9f', '#ff6b81'];
    
    let currentRotation = 0;
    let totalContribution = 0;

    function drawWheel() {
        const segments = prizes.length;
        const angle = (2 * Math.PI / segments);
        for(let i=0; i<segments; i++) {
            ctx.beginPath();
            ctx.fillStyle = colors[i];
            ctx.moveTo(200, 200);
            ctx.arc(200, 200, 200, i * angle, (i + 1) * angle);
            ctx.fill();
            
            ctx.save();
            ctx.translate(200, 200);
            ctx.rotate(i * angle + angle / 2);
            ctx.fillStyle = "white";
            ctx.font = "bold 28px Arial";
            ctx.textAlign = "right";
            ctx.fillText("$" + prizes[i], 175, 10);
            ctx.restore();
        }
    }
    drawWheel();

    function spinWheel() {
        spinBtn.disabled = true;
        paySection.style.display = 'none';
        display.classList.remove('pulse');

        const spins = 2160; 
        const extraDegrees = Math.floor(Math.random() * 360);
        currentRotation += (spins + extraDegrees); 
        
        canvas.style.transform = `rotate(${currentRotation}deg)`;

        setTimeout(() => {
            const netRotation = currentRotation % 360;
            const segmentAngle = 360 / prizes.length;
            const prizeIndex = Math.floor((360 - netRotation + 270) % 360 / segmentAngle);
            const landedAmount = prizes[prizeIndex];

            totalContribution += landedAmount;
            display.innerText = `$${totalContribution}`;
            display.classList.add('pulse');

            // 1. VENMO
            const vNote = encodeURIComponent("small business support");
            document.getElementById('venmo-link').href = `venmo://paycharge?txn=pay&recipients=${myVenmo}&amount=${totalContribution}&note=${vNote}`;
            
            // 2. CRYPTO (Universal Deep Link)
            // This format triggers the mobile "App Picker" menu
            const cryptoURI = `ethereum:${myWallet}@8453/transfer?address=${myWallet}&uint256=${totalContribution}e6`;
            
            document.getElementById('crypto-link').href = cryptoURI;
            document.getElementById('crypto-link').innerHTML = `PAY ${totalContribution} USDC (BASE)`;

            paySection.style.display = 'flex';
            spinBtn.disabled = false;
            spinBtn.innerText = "SPIN AGAIN TO STACK";
            
        }, 4000);
    }

    function copyAddress() {
        navigator.clipboard.writeText(myWallet);
        alert("Wallet Address Copied!");
    }
</script>

</body>
</html>
